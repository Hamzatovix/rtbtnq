# üîç –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≥–∞–ª–µ—Ä–µ–∏

## –ü—Ä–æ–±–ª–µ–º–∞

–§–æ—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å –±—ç–∫-–æ—Ñ–∏—Å–∞, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
- ‚ùå –í –ø–∞–Ω–µ–ª–∏ –±—ç–∫-–æ—Ñ–∏—Å–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚ùå –ù–∞ —Å–∞–π—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ –≥–∞–ª–µ—Ä–µ—è

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

**Vercel Dashboard ‚Üí Deployments ‚Üí [–≤–∞—à –¥–µ–ø–ª–æ–π] ‚Üí Functions ‚Üí Logs**

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:
```
[Gallery] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏: { ... }
[Gallery] –ò—Å–ø–æ–ª—å–∑—É–µ–º Supabase –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
[Gallery] –ó–∞–≥—Ä—É–∑–∫–∞ –≥–∞–ª–µ—Ä–µ–∏: { ... }
[Gallery] –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Supabase, —Ç–∞–±–ª–∏—Ü–∞: gallery
[Gallery] –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –∏–∑ Supabase: { ... }
[Gallery] –ò—Ç–æ–≥–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: X
[Gallery API] GET –∑–∞–ø—Ä–æ—Å, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: X
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Table Editor** ‚Üí `gallery`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø–∏—Å–∏:
   - ‚úÖ –ï—Å—Ç—å –ª–∏ –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ?
   - ‚úÖ –ö–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö?
   - ‚úÖ –ï—Å—Ç—å –ª–∏ –ø–æ–ª–µ `src` —Å URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è?

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –Ω–∞–ø—Ä—è–º—É—é

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/gallery
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON:
```json
{
  "images": [
    {
      "id": "...",
      "src": "https://...",
      "alt": "..."
    }
  ]
}
```

**–ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç–æ–π `[]`** - –ø—Ä–æ–±–ª–µ–º–∞ –≤ —á—Ç–µ–Ω–∏–∏ –∏–∑ Supabase
**–ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ –∑–∞–ø–æ–ª–Ω–µ–Ω, –Ω–æ —Ñ–æ—Ç–æ –Ω–µ –≤–∏–¥–Ω–æ** - –ø—Ä–æ–±–ª–µ–º–∞ –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –≤ Supabase

–í Supabase Table Editor ‚Üí `gallery` –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

**–í–∞—Ä–∏–∞–Ω—Ç –ê: –î–∞–Ω–Ω—ã–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö**
```
id: "abc123"
src: "https://..."
alt: "–æ–ø–∏—Å–∞–Ω–∏–µ"
data: null –∏–ª–∏ {}
```

**–í–∞—Ä–∏–∞–Ω—Ç –ë: –î–∞–Ω–Ω—ã–µ –≤ –ø–æ–ª–µ data (JSONB)**
```
id: "abc123"
src: null –∏–ª–∏ ""
alt: null –∏–ª–∏ ""
data: {"id": "abc123", "src": "https://...", "alt": "–æ–ø–∏—Å–∞–Ω–∏–µ"}
```

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –Ω–æ –Ω–µ —á–∏—Ç–∞—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –í Supabase –µ—Å—Ç—å –∑–∞–ø–∏—Å–∏
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ `[]`
- –í –ª–æ–≥–∞—Ö: `[Gallery] –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –∏–∑ Supabase: { count: 0 }`

**–†–µ—à–µ–Ω–∏–µ:**
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –≤ Supabase. –ö–æ–¥ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:
- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö (`src`, `alt`) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö
- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ –ø–æ–ª–µ `data` (JSONB) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ Supabase SQL Editor:
```sql
SELECT id, src, alt, data FROM gallery LIMIT 1;
```

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ.

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –î–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (`images: [...]`)
- –ù–æ —Ñ–æ—Ç–æ –Ω–µ –≤–∏–¥–Ω–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–π

**–°–∏–º–ø—Ç–æ–º—ã:**
- –î–∞–Ω–Ω—ã–µ –≤ Supabase –µ—Å—Ç—å
- –ù–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–∂–∏–¥–∞–µ–º–æ–π

**–†–µ—à–µ–Ω–∏–µ:**
–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ:

```sql
-- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ data, –Ω–æ –Ω–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö
UPDATE gallery 
SET 
  src = COALESCE(src, (data->>'src')::text),
  alt = COALESCE(alt, (data->>'alt')::text)
WHERE src IS NULL OR src = '';

-- –ò–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö, –Ω–æ –Ω–µ—Ç –≤ data
UPDATE gallery
SET data = jsonb_build_object(
  'id', id,
  'src', src,
  'alt', alt
)
WHERE data IS NULL;
```

## üìã –ß–µ–∫–ª–∏—Å—Ç –æ—Ç–ª–∞–¥–∫–∏

- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ª–æ–≥–∏ Vercel
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –≤ Supabase Table Editor
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω API `/api/gallery` –Ω–∞–ø—Ä—è–º—É—é
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Supabase
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–¥–æ—Å—Ç—É–ø–Ω—ã –ª–∏ –æ–Ω–∏)

## üîß –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –Ω–æ –Ω–µ —á–∏—Ç–∞—é—Ç—Å—è, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ Supabase:**
```sql
SELECT * FROM gallery LIMIT 1;
```

2. **–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –≤ `data` (JSONB), –æ–±–Ω–æ–≤–∏—Ç–µ –∫–æ–ª–æ–Ω–∫–∏:**
```sql
UPDATE gallery 
SET 
  src = COALESCE(src, (data->>'src')::text),
  alt = COALESCE(alt, (data->>'alt')::text)
WHERE (src IS NULL OR src = '') AND data IS NOT NULL;
```

3. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–Ω–æ–≤–∞**

## üìû –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel:

1. **–ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:**
   - `[Gallery] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Supabase
   - `[Gallery] –ò—Å–ø–æ–ª—å–∑—É–µ–º Supabase –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

2. **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:**
   - `[Gallery] –ó–∞–≥—Ä—É–∑–∫–∞ –≥–∞–ª–µ—Ä–µ–∏` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
   - `[Gallery] –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –∏–∑ Supabase` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
   - `[Gallery] –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∂–¥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
   - `[Gallery API] GET –∑–∞–ø—Ä–æ—Å` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è API

–≠—Ç–∏ –ª–æ–≥–∏ –ø–æ–º–æ–≥—É—Ç –ø–æ–Ω—è—Ç—å, –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ —Ç–µ—Ä—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ.

