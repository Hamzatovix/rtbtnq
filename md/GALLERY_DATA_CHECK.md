# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–∏ –∏–∑ Supabase

## ‚úÖ –î–∞–Ω–Ω—ã–µ –≤ Supabase –µ—Å—Ç—å

–í—ã –ø–æ–∫–∞–∑–∞–ª–∏, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ `gallery` –µ—Å—Ç—å 2 –∑–∞–ø–∏—Å–∏:
- `pGSou3ZbwieqUolHg5rV_` - –°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ (200)
- `XzJkkk23RefrktB6Z0qm9` - IMG_20251121_091713

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è:
- ‚úÖ `id` –∑–∞–ø–æ–ª–Ω–µ–Ω
- ‚úÖ `src` —Å–æ–¥–µ—Ä–∂–∏—Ç URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ `alt` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ `data` (JSONB) —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–π –æ–±—ä–µ–∫—Ç
- ‚úÖ `created_at` –∏ `updated_at` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoint

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ):
```
https://rtbtnq.vercel.app/api/gallery
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "images": [
    {
      "id": "pGSou3ZbwieqUolHg5rV_",
      "src": "https://usxc9p46c84jtzyx.public.blob.vercel-storage.com/gallery/1763724898226-YGPaKq7aiN.png",
      "alt": "–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ (200)"
    },
    {
      "id": "XzJkkk23RefrktB6Z0qm9",
      "src": "https://usxc9p46c84jtzyx.public.blob.vercel-storage.com/gallery/1763722943089-30N_pUXLaU.jpg",
      "alt": "IMG_20251121_091713"
    }
  ]
}
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ `[]`:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel (—Å–º. –®–∞–≥ 2)

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É:**
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Vercel

1. –û—Ç–∫—Ä–æ–π—Ç–µ Vercel Dashboard ‚Üí –í–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí Logs
2. –ù–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏ —Å —Ç–µ–≥–æ–º `[Gallery]` –∏–ª–∏ `[Gallery API]`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:

**–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
[Gallery] –ó–∞–≥—Ä—É–∑–∫–∞ –≥–∞–ª–µ—Ä–µ–∏: { isVercel: true, supabaseEnabled: true, ... }
[Gallery] –ò—Å–ø–æ–ª—å–∑—É–µ–º Supabase –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
[Gallery] –ó–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ Supabase: 2 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
[Gallery API] –ó–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 2
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏:**
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
- –û—Å–æ–±–µ–Ω–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞:
  - `relation "gallery" does not exist` ‚Üí —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
  - `permission denied` ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
  - `network error` ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ Supabase

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ Vercel —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- ‚úÖ `SUPABASE_URL` - URL –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Supabase
- ‚úÖ `SUPABASE_SERVICE_ROLE_KEY` - Service Role Key (–Ω–µ anon key!)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. Vercel Dashboard ‚Üí –í–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí Settings ‚Üí Environment Variables
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –µ—Å—Ç—å –¥–ª—è **All Environments**

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ Supabase SQL Editor:
```sql
SELECT 
  column_name,
  data_type,
  is_nullable
FROM information_schema.columns
WHERE table_name = 'gallery'
ORDER BY ordinal_position;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- `id` (text –∏–ª–∏ varchar)
- `src` (text –∏–ª–∏ varchar)
- `alt` (text –∏–ª–∏ varchar)
- `data` (jsonb)
- `created_at` (timestamp)
- `updated_at` (timestamp)

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ Supabase SQL Editor:
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ RLS (Row Level Security)
SELECT tablename, rowsecurity 
FROM pg_tables 
WHERE tablename = 'gallery';
```

**–ï—Å–ª–∏ `rowsecurity = true`:**
- –ù—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å RLS –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
```sql
ALTER TABLE gallery DISABLE ROW LEVEL SECURITY;
```

## üîß –ß—Ç–æ —è –∏—Å–ø—Ä–∞–≤–∏–ª

1. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
   - –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ (data > –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è)

2. **–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –∑–∞–≥—Ä—É–∑–∫–∏
   - –õ–æ–≥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
   - –õ–æ–≥–∏ –æ—à–∏–±–æ–∫

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API endpoint** (`/api/gallery`) –Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel** –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≥–∞–ª–µ—Ä–µ–∏
3. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
   - –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `/api/gallery`?
   - –ö–∞–∫–∏–µ –ª–æ–≥–∏ –≤–∏–¥–∏—Ç–µ –≤ Vercel?
   - –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏?

## üí° –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã

1. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞:**
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ
   - –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∂–µ—Å—Ç–∫—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É (Ctrl+Shift+R)

2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ Vercel
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è Production, –Ω–æ –Ω–µ –¥–ª—è Preview

3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ Supabase:**
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Service Role Key
   - –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é

4. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –¥–∞–Ω–Ω—ã—Ö:**
   - –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è, –Ω–æ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –î–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è, –Ω–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É

## üéØ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (–ª–æ–∫–∞–ª—å–Ω–æ):

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cd front
cat .env.local | grep SUPABASE

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç)
# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:
# https://rtbtnq.vercel.app/api/gallery
```

---

**–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∏ —è –ø–æ–º–æ–≥—É —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É!**

