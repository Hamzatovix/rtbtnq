#!/bin/bash
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

echo "üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π"
echo "================================================"
echo ""

echo "1Ô∏è‚É£  –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ..."
docker exec rosebotanique ls -la /app/public/uploads/products/ 2>/dev/null | head -10 || echo "–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

echo ""
echo "2Ô∏è‚É£  –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Ö–æ—Å—Ç–µ..."
ls -la /opt/rosebotanique/front/public/uploads/products/ 2>/dev/null | head -10 || echo "–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

echo ""
echo "3Ô∏è‚É£  –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä..."
curl -I http://localhost:3000/uploads/products/ 2>&1 | head -5 || echo "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø"

echo ""
echo "4Ô∏è‚É£  –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏)..."
docker logs rosebotanique 2>&1 | grep -i -E "upload|image|error|404|ENOENT" | tail -20 || echo "–û—à–∏–±–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"

echo ""
echo "5Ô∏è‚É£  –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞..."
docker exec rosebotanique cat /app/src/data/products.json 2>/dev/null | jq '.results[0].variants[0].images[0]' 2>/dev/null | head -5 || echo "–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ"

echo ""
echo "================================================"
echo "üí° –†–µ—à–µ–Ω–∏—è:"
echo ""
echo "–ï—Å–ª–∏ —Ñ–∞–π–ª—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã:"
echo "  1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç"
echo "  2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ volume —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω: -v /opt/rosebotanique/front/public/uploads:/app/public/uploads"
echo ""
echo "–ï—Å–ª–∏ —Ñ–∞–π–ª—ã –µ—Å—Ç—å, –Ω–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:"
echo "  1. –ü—Ä–æ–≤–µ—Ä—å URL –≤ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å /uploads/products/—Ñ–∞–π–ª.jpg)"
echo "  2. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ Next.js –º–æ–∂–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã"
echo "  3. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏ 404"
echo ""

